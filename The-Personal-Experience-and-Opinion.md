# The Personal Experience and Opinion

개인적으로 개발 경험이 쌓이면서 느끼는 바와 생기는 의견을 모음.

- 개발 중 테스트를 할 때, 테스트를 위해 임시로 코드를 고치는 것 보다 테스트하려는 상황에 맞는 데이터를 준비해 테스트를 진행하자.
  - 임시로 수정한 코드가 실수로 들어갈 수도 있다.
- 올지 모를 미래를 대비해 확장성을 고려하는 것보다 최소한의 기능을 빠르고 견고하게 만들자.
  - 니즈가 생기면 그 때 작업해도 늦지 않다.
  - 니즈가 작거나 없다면 다른 더 중요한 개발을 하는 것이 좋다.
- FE/BE를 한 번에 개발한다면 한 사람에게 PR을 날려 리뷰받자.
  - 리뷰하는 사람이 두 코드를 한 번에 보는게 전체 흐름을 알 수 있어서 리뷰에 도움이 된다.
- 코드를 수정할 때 해당 모듈이 어디서 사용되고 있는지 꼭 확인하자.
- 한 작업에 대해 불필요하게 PR을 나누지 말자. 나누다가 Reviewer가 꼭 알아야되는 정보를 모르게될 수 있다.
- 기능 개발/버그 수정 전에 관련된 비즈니스 플로우를 모두 점검하자. 수정할 코드가 연관된 사용자는 누가 있고, 어떤 기능과 현재 코드가 묶여있는지 파악해야 사이드이펙트를 파악해 줄일 수 있다.
- 테스트는 안심이 되는 정도로!
- 항상 기술 트렌드를 파악해야한다. **붉은 여왕 전략**을 잊지말자.
- PR은 가능한 작게!
- 이미 있는 코드와 비슷한 코드를 만들어야할 때 안보고 구현하면 왜 이런 코드가 됐는지 생각해볼 수 있음.

## 비즈니스 로직의 위치

프론트엔드, 백엔드 둘 모두 비즈니스 로직을 가질 수 있음. 개인적인 생각으로 DB를 읽어서 보여주는 비즈니스 로직은 프론트엔드에, DB에 수정을 가하는 비즈니스 로직은 백엔드에 있는 것이 좋겠다고 생각함.

DB를 읽어서 보여주는 작업은 굉장히 빈번하게 일어남. 하지만 읽어가는 권한만 분명하게 분리한다면 보안적으로 이슈가 될 만한 것은 잘 없음. 백엔드에서는 단순히 DB구조 그대로 데이터를 주고, 프론트엔드에서 이를 가공해서 보여주는 것이 서버 리소스도 절약되고 하위호환도 잘 됨.

하지만 DB에 수정을 가하는 작업은 좀 다름. 프론트엔드에서 계산하고 이를 DB에 작성하게 되면 보안적으로 취약해질 수 있음. 예를 들어 쿠키에 저장된 SessionId를 포스트맨에 셋팅해 비즈니스 로직을 통한 계산 결과가 아닌 임의의 값을 전달해도 그대로 DB에 전달될 수 있음. 일반적으로 DB에 무언가를 작성하는 작업은 읽는 작업보다 그 빈도가 낮으므로 보안적인 측면에서 백엔드에 비즈니스 로직을 가져가는 것이 좋을 듯.

## 설계의 중요성

설계를 머리속으로만 하지 말자. 어떤 데이터가 주어지고, 어떤 데이터가 나와야하며, 무엇과 상호작용하는지 그림을 그리자!

### 경험: 왜 LessonAt과 LessonOn을 Date와 Time으로 변경했을까?

1. dayjs와 문자열이 혼용됨. 매우 혼란스러움.
2. LessonAt이 Date를 포함하는지 아닌지 모호했음.
3. TimeSelection 컴포넌트가 무엇을 반환(상태에 설정)해줘야하는지 혼란스러웠음.
4. 각 컴포넌트의 역할을 최소화하지 못했음.
5. 설계를 머리속으로 대충했다고 볼 수 있음. 가능한 그림을 그리는게 좋을 듯.
6. 어떤 데이터가 필요하고, 이를 어디서 책임져야할 지 그림을 그리면 좋을 듯.

이와중에 Redux-toolkit의 에러메시지.

> Serializable한 데이터를 상태에 넣어줘야 디버깅이 편할 것이야~

예전에 Serializable한 데이터를 넣기위해 수정한 것을 까먹고 바꿔버림...OTL...
