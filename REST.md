# REST

> **RE**presentational **S**tate **T**ransfer: 표현 상태 전이
> 2000년, 로이 필딩 발표

- 분산 하이퍼미디어 시스템을 위한 소프트웨어 아키텍처의 한 형식.
- HTTP를 통해 느슨하게 연결된 애플리케이션들을 설계하기 위한 아키텍쳐 스타일.
- 네트워크 아키텍쳐 원리(자원을 정의하고 자원에 대한 주소를 지정하는 방법 전반)의 모음.

# REST Constraints

웹의 확장성 좌우하는 제약조건들. REST는 구현에 대한 강제적인 룰이 아닌 제약조건들을 통해 설계 시 준수해야할 가이드라인을 제시함.

## Client/Server

관심사를 분리시켜 역할을 분명하게 나누고 일관된 인터페이스를 따른다. 이를 통해 각자의 언어와 기술을 이용해 독립적으로 구현되고 배포될 수 있음.

## Uniform Interface

전체 시스템 구조의 단순화와 상호작용의 가시성 향상을 위해 일관적인 인터페이스 적용이 필요함.

### 웹 컴포넌트들이 따르는 네 가지 인터페이스 제약

#### 1. 리소스 식별

각각의 개별 리소스들을 식별할 수 있어야함.

#### 2. 표현을 통한 리소스 처리

클라이언트는 리소스 표현을 처리. 같은 리소스라도 다른 클라이언트에서는 다른 방식으로 표현될 수 있음. 표현은 리소스와 상호작용하는 방법이지 리소스 그 자체는 아님.

#### 3. 자기-서술적 메시지(Self-descriptive messages)

자기 자신에 대한 추가정보를 전달할 수 있음.

> 🤔 '추가정보'만 전달하면 자기-서술적 메시지인가?

#### 4. 애플리케이션 상태 엔진으로서의 하이퍼미디어(HATEOAS)

> **H**ypermedia **A**s **T**he **E**ngine **O**f **A**pplication **S**tate

리소스의 표현은 관련 리소스의 링크를 포함함. 사용자들은 정보와 애플리케이션들을 직접적인 방식으로 이리저리 훑어볼 수 있음. 페이지 내 링크의 존재 여부는 리소스의 현재 상태에서 중요함.

> 🤔 '애플리케이션 상태 엔진'이 뭐지?
>
> 🤔 '페이지 내 링크의 존재 여부'는 왜 '리소스의 현재 상태'에서 중요한거지?

## Layered System

프락시나 게이트웨이 같은 네트워크 기반의 중간 매체를 클라이언트와 서버 사이에 없는 것처럼 배치해 사용할 수 있음. 보통 보안 강화, 응답 캐싱, 부하 분산의 용도로 사용함.

## Cacheable

웹 구조의 중요 제약조건 중 하나. 클라이언트가 느끼는 지연 감소, 애플리케이션의 이용 가능성과 안정성을 향상, 웹 서버의 부하를 제어. 웹의 전체적인 비용을 낮출 수 있는 중요한 방법. 웹 서버가 응답 데이터마다 캐시 여부를 선언함. 클라이언트와 서버 사이의 네트워크 경로라면 어디에라도 위치할 수 있음.

## Stateless

서버가 클라이언트의 상태를 관리할 필요가 없음. 클라이언트가 직접 관리해야 함. 이로 인해 서버는 더 많은 클라이언트에 서비스할 수 있음.

## Code-on-demand(optional)

스크립트나 플러그인 같은 실행 가능한 프로그램을 일시적으로 클라이언트에 전송해 실행할 수 있도록 함. 단, 클라이언트가 전송받은 코드를 이해할 수 있어야해서 기술적 결합이 만들어지기도 함. 그래서 유일하게 선택사항임.

# REST API란?

- REST 구조 스타일에 적합한 Web API.
- REST API를 제공하는 웹서비스는 "RESTful"하다.
- 상호 연결된 리소스의 결합체.

## REST API를 설계하며 만나는 질문들

- URI 경로(path) 세그먼트는 언제 복수로 써야 하는가?
- 리소스의 상태를 업데이트하려면, 어떤 메서드를 사용해야 하는가?
- CRUD가 아닌 연산을 어떻게 URL에 매핑하는가?
- 특정한 시나리오에 가장 적합한 HTTP 응답은 무엇인가?
- 리소스 상태 표현의 버전은 어떻게 관리할 수 있는가?
- JSON에 포함된 하이퍼링크는 어떻게 구조화하는가?

# 참고자료

- [REST](https://ko.wikipedia.org/wiki/REST)
- [REST API Tutorial](https://restfulapi.net/)
- [REST API의 이상향, HATEOAS - 월리공방 ](https://wallees.wordpress.com/2018/04/19/rest-api-hateoas/)
- [Richardson Maturity Model - 월리공방](https://wallees.wordpress.com/2018/04/19/rest-api-richardson-maturity-model/)
- [일관성 있는 웹 서비스 인터페이스 설계를 위한 REST API 디자인 규칙](https://www.hanbit.co.kr/store/books/look.php?p_code=E9835405237)
- [RESTful Web API - 웹 API를 위한 모범 전략 가이드](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&barcode=9788966261635)
